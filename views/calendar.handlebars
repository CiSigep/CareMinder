{{#section 'head'}}
<meta charset='utf-8' />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<link href='https://unpkg.com/@fullcalendar/core/main.min.css' rel='stylesheet' />
<link href='https://unpkg.com/@fullcalendar/daygrid/main.min.css' rel='stylesheet' />
<link href='https://unpkg.com/@fullcalendar/list/main.min.css' rel="stylesheet" />
<link href='https://unpkg.com/@fullcalendar/timeline/main.min.css' rel='stylesheet' />
<link href='https://use.fontawesome.com/releases/v5.0.6/css/all.css' rel='stylesheet'>
<link href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css' rel='stylesheet' />
{{!-- <link href='fullcalendar/bootstrap/main.css' rel='stylesheet' /> --}}
<link href='https://unpkg.com/@fullcalendar/timegrid/main.min.css' rel="stylesheet" />
<link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
<link href="/styles/styles.css" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker3.css" />

<script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src='https://unpkg.com/@fullcalendar/core/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/daygrid/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/timegrid/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/list/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/interaction/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/bootstrap/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/resource-common/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/resource-daygrid/main.min.js'></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"
    integrity="sha256-H9jAz//QLkDOy/nzE9G4aYijQtkLt9FvGmdUTwBk6gs=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>


<script src="/js/calendar.js"></script>
{{/section}}

<nav class="navbar navbar-expand navbar-light">
    <a href="/profile"><i class="fas fa-home fa-2x"></i></a>
        <ul class="navbar-nav mr-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    Patients
                </a>
                <div id="patientDropdown" class="dropdown-menu" aria-labelledby="navbarDropdown">
                    {{#each Patients}}
                    <a class="dropdown-item patient-select" data-patientId="{{id}}" href="#">{{firstName}}
                        {{lastName}}</a>
                    {{/each}}
                </div>
            </li>
        </ul>
        <div class="navLogo">
            <a class="navbar-brand" href="#"><img src="/img/Logo-CM.jpg" id="logo" alt="CareMindersLogo"/></a>
        </div>
        <a href="/logout"><i class="fas fa-sign-out-alt fa-2x"></i></a>
</nav>

<br>
<div class="container">
    <div id='calendar'></div>
    <div class="modal fade" id="taskModal" abindex="-1" role="dialog" aria-labelledby="taskLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="taskLabel">Task</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="taskTitle" class="col-form-label">Title:</label>
                                <input type="text" class="form-control" id="taskTitle">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="taskStart" class="col-form-label">Start:</label>
                                <input type="text" class="form-control date-pick" id="taskStart">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="taskEnd" class="col-form-label">End:</label>
                                <input type="text" class="form-control date-pick" id="taskEnd">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="taskTimeStart" class="col-form-label">Start Time:</label>
                                <input type="text" class="form-control" id="taskTimeStart">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="taskTimeEnd" class="col-form-label">End Time:</label>
                                <input type="text" class="form-control" id="taskTimeEnd">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="prioritySelect" class="col-form-label">Priority:</label>
                                <select class="form-control" id="prioritySelect">
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="repeats" id="repeatsCheckTask">
                            <label class="form-check-label" for="repeatsCheckTask">
                                Repeats
                            </label>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-3">
                                <label for="repeatNumberTask" class="col-form-label">Repeats For:</label>
                                <input class="form-control" type="text" id="repeatNumberTask" disabled>
                            </div>
                            <div class="form-group col-3">
                                <label for="intervalSelectTask" class="col-form-label">Time:</label>
                                <select class="form-control" id="intervalSelectTask" disabled>
                                    <option value="d">Day(s)</option>
                                    <option value="w">Week(s)</option>
                                    <option value="m">Month(s)</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button id="saveTaskBtn" type="submit" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="billModal" abindex="-1" role="dialog" aria-labelledby="billLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="billLabel">Bill</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="billPayTo" class="col-form-label">Pay To:</label>
                                <input type="text" class="form-control" id="billPayTo">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="billDue" class="col-form-label">Due Date:</label>
                                <input type="text" class="form-control date-pick" id="billDue">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="billAmount" class="col-form-label">Amount:</label>
                                <input type="text" class="form-control" id="billAmount">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-12">
                                <label for="billReason" class="col-form-label">Reason:</label>
                                <input type="text" class="form-control" id="billReason">
                            </div>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="repeats" id="repeatsCheckBill">
                            <label class="form-check-label" for="repeatsCheckBill">
                                Repeats
                            </label>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-3">
                                <label for="repeatNumberBill" class="col-form-label">Repeats For:</label>
                                <input class="form-control" type="text" id="repeatNumberBill" disabled>
                            </div>
                            <div class="form-group col-3">
                                <label for="intervalSelectBill" class="col-form-label">Time:</label>
                                <select class="form-control" id="intervalSelectBill" disabled>
                                    <option value="d">Day(s)</option>
                                    <option value="w">Week(s)</option>
                                    <option value="m">Month(s)</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button id="saveBillBtn" type="submit" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="taskDataModal" abindex="-1" role="dialog" aria-labelledby="eventLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="taskDataLabel">Task</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div>
                        Title: <span id="taskDataTitle"></span>
                    </div>
                    <div>
                        Priority: <span id="taskDataPriority"></span>
                    </div>
                    <div>
                        Starts: <span id="taskDataStart"></span>
                    </div>
                    <div>
                        Ends: <span id="taskDataEnd"></span>
                    </div>
                    <div>
                        Repeats: <span id="taskDataRepeats"></span>
                    </div>
                    <div>
                        Interval: <span id="taskDataInterval"></span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="deleteTaskButton" class="btn btn-danger text-white">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="billDataModal" abindex="-1" role="dialog" aria-labelledby="eventLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="billDataLabel">Bill</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div>
                        Pay to: <span id="billDataPayTo"></span>
                    </div>
                    <div>
                        Amount: <span id="billDataAmount"></span>
                    </div>
                    <div>
                        Due: <span id="billDataDue"></span>
                    </div>
                    <div>
                        Reason: <span id="billDataReason"></span>
                    </div>
                    <div>
                        Repeats: <span id="billDataRepeats"></span>
                    </div>
                    <div>
                        Interval: <span id="billDataInterval"></span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="deleteBillButton" class="btn btn-danger text-white">Delete</button>
                </div>
            </div>
        </div>
    </div>
</div>
<input type="hidden" id="startingPatient" value="{{startingPatient}}">